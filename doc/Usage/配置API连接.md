# 在管理UI中配置API连接

## 添加 Gemini Api 密钥

 * 在 `Gemini API Keys` 界面中的 `API Key Value` 中填写并添加 Gemini Api 密钥，可选择批量进行添加，批量添加时使用英文逗号 `,` 进行分隔，例如 `key1,key2,kye3`。在使用批量添加功能时请不要添加自定义名称功能。自定义名称可留空。
 ![](image/1.0.jpg)

## 添加一个模型

 * 在 `Managed Models` 界面中添加想要使用的模型，当正确添了 Gemini Api 密钥后，刷新页面，脚本将自动获取当前可用的模型列表。
 ![](image/3.0.jpg)
 * 您可以选择在类别中切换模型的类别以匹配不同的额度，当然，大多数情况下脚本可用做到自动匹配。
 ![](image/3.1.jpg)
 * 当使用 Custom 类别的模型时，您可用输入一个基于模型的额度，Custom 类别中的每个模型的额度都会被独立管理。设置 `0` 或 `none` 表示无限额度。
 ![](image/3.1.1.jpg)

## 添加一个请求 Api 密钥
除了添加的 Gemini Api 外，您还需要添加用于请求到当前脚本的 Api 密钥。
 * 在 `Worker API Keys` 界面中添加密钥，点击 `Generate Random Key` 可用使用随机生成的密钥，或者您可以自行填写密钥，注意密钥中不要包含特殊字符。密钥的名称可自定义或留空。
 ![](image/2.0.jpg)
 * 您可用管理或分发多个 Api 密钥，该密钥为客户端请求时使用的密钥。

## 测试 Gemini Api 密钥的可用性
当正确配置 Gemini Api 密钥以及添加模型后，您可用点击密钥的显示卡片展开密钥使用情况，点击 `Test` 并选择一个测试模型即可快速测试密钥的可用性。
![](image/1.1.jpg)

## 管理安全设置
使用本项目可用管理请求密钥在使用时的安全设定，当安全设定为 `Disabled` 时，将在转发 Gemini Api 请求时关闭默认的安全审查机制。您可以给不同的请求密钥设置不同的安全设定以适配不同的使用环境。当使用 `KEEPALIVE` 机制进行伪流式请求时需要关闭安全设定才会生效。
![](image/2.1.jpg)

## 管理配额
在 `Managed Models` 界面点击 `Set Category Quotas`，可以设定 Pro 与 Flash 类别模型不同的每日额度。默认额度为 Pro 每天 50 次，Flash 每天 1500 次，请根据实际情况进行调整。
![](image/3.1.2.jpg)
![](image/3.1.3.jpg)